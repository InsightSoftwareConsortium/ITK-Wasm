title: Web Browser Processing Pipelines
---

These processing pipeline execution functions can be used from within a web
browser.

Most of these functions return a [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise).

These functions return the [WebWorker](https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers) used for computation. They also optionally accept a web worker from a previous execution as their first argument -- pass the worker generated from execution or `null` if one is not available.

---

## runPipeline(webWorker, pipelinePath, args, outputs, inputs) -> result

Run an itk-wasm Emscripten module with Node.js.

*webWorker*: Re-use a WebWorker generated by a previous call to `runPipeline`. Usually, `null` is passed here instead, which will result in generation of a new WebWorker. If `false` is passed, the pipeline will be instead executed on the main UI thread.

*pipelinePath*: Path to the pre-built pipeline module, without `.js` or `Wasm.js` extensions.

*args*:         A JavaScript Array of strings to pass to the execution of the `main` function, i.e. arguments that would be passed on the command line to a native executable.

*outputs*:      A JavaScript Array containing JavaScript objects with two properties: `path` and `type`.

`path` is the file path on the virtual filesystem to read after execution has completed.

`type` is one of the `itk/IOTypes`:
<dl>
  <dt>`IOTypes.Text`</dt><dd>A UTF8-encoded string. To write this data type in C++, write a plain text file with, e.g.  [std::ofstream](https://www.cplusplus.com/reference/fstream/ofstream/).</dd>
  <dt>`IOTypes.Binary`</dt><dd>A binary [Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array). To write this data type in C++, read the binary file with, e.g.  [std::ofstream](https://www.cplusplus.com/reference/fstream/ofstream/) with the `std::ofstream::binary` flag to [std::ofstream::open](https://www.cplusplus.com/reference/fstream/ofstream/open/).</dd>
  <dt>`IOTypes.Image`</dt><dd>An [itk/Image](./Image.html). To write this data type in C++, use the [itk::ImageFileWriter](https://itk.org/Doxygen/html/classitk_1_1ImageFileWriter.html), add `WebAssemblyInterface` module to the ITK `find_package` `COMPONENTS` in your *CMakeLists.txt*, and use `.json` for the image file name extension.</dd>
  <dt>`IOTypes.Mesh`</dt><dd>An [itk/Mesh](./Mesh.html). To write this data type in C++, use the [itk::MeshFileWriter](https://itk.org/Doxygen/html/classitk_1_1MeshFileWriter.html), add `WebAssemblyInterface` module to the ITK `find_package` `COMPONENTS` in your *CMakeLists.txt*, and use `.json` for the image file name extension.</dd>
</dl>

*inputs*:       A JavaScript Array containing JavaScript objects with three properties: `path`, `type`, and `data`.

`data` contains the corresponding data to write to the virtual filesystem before executing the module.

`path` is the file path on the virtual filesystem to read after execution has completed.

`type` is one of the `itk/IOTypes`:
<dl>
  <dt>`IOTypes.Text`</dt><dd>A UTF8-encoded string. To read this data type in C++, read the plain text file with, e.g.  [std::ifstream](https://www.cplusplus.com/reference/fstream/ifstream/). </dd>
  <dt>`IOTypes.Binary`</dt><dd>A binary [Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array). To read this data type in C++, read the binary file with, e.g.  [std::ifstream](https://www.cplusplus.com/reference/fstream/ifstream/) with the `std::ifstream::binary` flag to [std::ifstream::open](https://www.cplusplus.com/reference/fstream/ofstream/open/).</dd>
  <dt>`IOTypes.Image`</dt><dd>An [itk/Image](./Image.html). To read this data type in C++, use the [itk::ImageFileReader](https://itk.org/Doxygen/html/classitk_1_1ImageFileReader.html), add `WebAssemblyInterface` module to the ITK `find_package` `COMPONENTS` in your *CMakeLists.txt*, and use `.json` for the image file name extension.</dd>
  <dt>`IOTypes.Mesh`</dt><dd>An [itk/Mesh](./Mesh.html). To read this data type in C++, use the [itk::MeshFileReader](https://itk.org/Doxygen/html/classitk_1_1MeshFileReader.html), add `WebAssemblyInterface` module to the ITK `find_package` `COMPONENTS` in your *CMakeLists.txt*, and use `.json` for the image file name extension.</dd>
</dl>

*result*:       A JavaScript object with four properties: `stdout`, `stderr`, `outputs`, and `webWorker`.
                `stdout` and `stderr` are strings. `outputs` is an array with `{ path, type, data }` content that corresponds to the values specified in the function call. `webWorker` is the WebWorker used for pipeline execution.
